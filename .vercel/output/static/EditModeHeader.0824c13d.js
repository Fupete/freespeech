import{S as G,i as J,s as Y,k as E,l as M,n as S,D as W,e as L,o as y,p as k,q as w,d as h,r as V,E as X,u as T,G as z,a as g,v as b,x as N,N as Z,C as A,z as $,L as me,t as C,A as F,b as P,c as K,f as j,g as B,h as Q,m as q,j as H,B as D}from"./chunks/index.e1c8ffd7.js";import{E as be,c as x,d as ee,T as U,L as te,e as le,f as se,A as ke}from"./chunks/stores.8cf13533.js";import{c as oe}from"./chunks/colors.74a4511f.js";function ie(n,e,s){const t=n.slice();return t[10]=e[s],t}function ne(n){let e,s=n[0].filter(n[5]),t=[];for(let l=0;l<s.length;l+=1)t[l]=re(ie(n,s,l));return{c(){e=E("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=y(l,"DIV",{style:!0,class:!0});var o=k(e);for(let i=0;i<t.length;i+=1)t[i].l(o);o.forEach(h),this.h()},h(){z(e,"transform","translateY(100%)"),T(e,"class","absolute bottom-0 left-0 z-30 rounded-md bg-gray-900")},m(l,o){g(l,e,o);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,o){if(o&15){s=l[0].filter(l[5]);let i;for(i=0;i<s.length;i+=1){const r=ie(l,s,i);t[i]?t[i].p(r,o):(t[i]=re(r),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},d(l){l&&h(e),me(t,l)}}}function re(n){let e,s=n[10]+"",t,l,o,i;function r(){return n[6](n[10])}return{c(){e=E("p"),t=M(s),l=S(),this.h()},l(a){e=y(a,"P",{style:!0,class:!0});var f=k(e);t=w(f,s),l=V(f),f.forEach(h),this.h()},h(){z(e,"transition","none"),T(e,"class","w-full min-w-[150px] rounded-md p-2 pr-8 text-left hover:bg-gray-800 active:bg-gray-700")},m(a,f){g(a,e,f),b(e,t),b(e,l),o||(i=[N(e,"click",r),N(e,"keypress",Ee)],o=!0)},p(a,f){n=a,f&5&&s!==(s=n[10]+"")&&Z(t,s)},d(a){a&&h(e),o=!1,$(i)}}}function ae(n){let e,s,t;return{c(){e=E("main"),this.h()},l(l){e=y(l,"MAIN",{class:!0}),k(e).forEach(h),this.h()},h(){T(e,"class","fixed top-0 left-0 z-20 h-screen w-full ")},m(l,o){g(l,e,o),s||(t=[N(e,"click",n[8]),N(e,"keypress",n[9])],s=!0)},p:A,d(l){l&&h(e),s=!1,$(t)}}}function ve(n){let e,s,t,l,o,i,r,a,f,d,v,_=n[3]&&ne(n),c=n[3]&&ae(n);return{c(){e=E("div"),s=E("p"),t=M(n[2]),l=S(),o=W("svg"),i=W("path"),r=S(),_&&_.c(),a=S(),c&&c.c(),f=L(),this.h()},l(u){e=y(u,"DIV",{class:!0});var p=k(e);s=y(p,"P",{});var m=k(s);t=w(m,n[2]),m.forEach(h),l=V(p),o=X(p,"svg",{style:!0,viewBox:!0});var O=k(o);i=X(O,"path",{fill:!0,d:!0}),k(i).forEach(h),O.forEach(h),r=V(p),_&&_.l(p),p.forEach(h),a=V(u),c&&c.l(u),f=L(),this.h()},h(){T(i,"fill","currentColor"),T(i,"d","M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"),z(o,"width","24px"),z(o,"height","24px"),T(o,"viewBox","0 0 24 24"),T(e,"class","relative flex h-[40px] cursor-pointer items-center gap-2 rounded-md bg-gray-900 p-2 font-medium capitalize text-gray-50 sm:rounded-none")},m(u,p){g(u,e,p),b(e,s),b(s,t),b(e,l),b(e,o),b(o,i),b(e,r),_&&_.m(e,null),g(u,a,p),c&&c.m(u,p),g(u,f,p),d||(v=[N(e,"click",n[7]),N(e,"keypress",ye)],d=!0)},p(u,[p]){p&4&&Z(t,u[2]),u[3]?_?_.p(u,p):(_=ne(u),_.c(),_.m(e,null)):_&&(_.d(1),_=null),u[3]?c?c.p(u,p):(c=ae(u),c.c(),c.m(f.parentNode,f)):c&&(c.d(1),c=null)},i:A,o:A,d(u){u&&h(e),_&&_.d(),u&&h(a),c&&c.d(u),u&&h(f),d=!1,$(v)}}}const Ee=()=>null,ye=()=>null;function Te(n,e,s){let{values:t}=e,{defaultValue:l}=e,{submitValue:o}=e,i=l,r=!1;const a=c=>c!==i,f=c=>{o(c),s(2,i=c),setTimeout(()=>s(3,r=!1),0)},d=c=>s(3,r=!0),v=()=>{s(3,r=!1)},_=()=>s(3,r=!1);return n.$$set=c=>{"values"in c&&s(0,t=c.values),"defaultValue"in c&&s(4,l=c.defaultValue),"submitValue"in c&&s(1,o=c.submitValue)},[t,o,i,r,l,a,f,d,v,_]}class ge extends G{constructor(e){super(),J(this,e,Te,ve,Y,{values:0,defaultValue:4,submitValue:1})}}function fe(n,e,s){const t=n.slice();return t[6]=e[s],t}function ue(n){let e,s,t,l,o=Object.keys(n[0]),i=[];for(let r=0;r<o.length;r+=1)i[r]=ce(fe(n,o,r));return t=new ge({props:{defaultValue:"500",values:["50 (lightest)","100","200","300","400","500","600","700","800","900 (darkest)"],submitValue:n[5]}}),{c(){e=E("div");for(let r=0;r<i.length;r+=1)i[r].c();s=S(),B(t.$$.fragment),this.h()},l(r){e=y(r,"DIV",{class:!0});var a=k(e);for(let f=0;f<i.length;f+=1)i[f].l(a);s=V(a),Q(t.$$.fragment,a),a.forEach(h),this.h()},h(){T(e,"class","flex h-[40px] items-center justify-center gap-2 rounded-md bg-gray-900 px-2 sm:rounded-none")},m(r,a){g(r,e,a);for(let f=0;f<i.length;f+=1)i[f].m(e,null);b(e,s),q(t,e,null),l=!0},p(r,a){if(a&13){o=Object.keys(r[0]);let d;for(d=0;d<o.length;d+=1){const v=fe(r,o,d);i[d]?i[d].p(v,a):(i[d]=ce(v),i[d].c(),i[d].m(e,s))}for(;d<i.length;d+=1)i[d].d(1);i.length=o.length}const f={};a&8&&(f.submitValue=r[5]),t.$set(f)},i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){P(t.$$.fragment,r),l=!1},d(r){r&&h(e),me(i,r),H(t)}}}function ce(n){let e,s,t,l,o;function i(){return n[4](n[6])}return{c(){e=E("button"),this.h()},l(r){e=y(r,"BUTTON",{style:!0,class:!0}),k(e).forEach(h),this.h()},h(){T(e,"style",s=`background-color: ${n[0][n[6]][parseInt(n[3])]}`),T(e,"class",t=`h-[27px] w-[27px] ${n[2]===n[6]?"rounded-full ring-2 ring-gray-50":""} rounded-md`)},m(r,a){g(r,e,a),l||(o=N(e,"click",i),l=!0)},p(r,a){n=r,a&9&&s!==(s=`background-color: ${n[0][n[6]][parseInt(n[3])]}`)&&T(e,"style",s),a&5&&t!==(t=`h-[27px] w-[27px] ${n[2]===n[6]?"rounded-full ring-2 ring-gray-50":""} rounded-md`)&&T(e,"class",t)},d(r){r&&h(e),l=!1,o()}}}function Se(n){let e,s,t=n[1]==="color"&&ue(n);return{c(){t&&t.c(),e=L()},l(l){t&&t.l(l),e=L()},m(l,o){t&&t.m(l,o),g(l,e,o),s=!0},p(l,[o]){l[1]==="color"?t?(t.p(l,o),o&2&&C(t,1)):(t=ue(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(F(),P(t,1,1,()=>{t=null}),K())},i(l){s||(C(t),s=!0)},o(l){P(t),s=!1},d(l){t&&t.d(l),l&&h(e)}}}function Ve(n,e,s){let t,l,o;j(n,be,f=>s(1,t=f)),j(n,x,f=>s(2,l=f)),j(n,ee,f=>s(3,o=f));let i={};for(const f in oe)["gray","red","orange","yellow","green","cyan","blue","purple","pink"].includes(f)&&(i[f]=oe[f]);return[i,t,l,o,f=>D(x,l=f,l),f=>D(ee,o=f.split(" ")[0],o)]}class Ce extends G{constructor(e){super(),J(this,e,Ve,Se,Y,{})}}const Me=async()=>{let n={};U.subscribe(t=>{n=t}),te.set(!0),(await(await fetch("/api/v1/tile/edit.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tiles:Object.values(n)})})).json()).success&&U.set(!1),te.set(!1)};function de(n){let e,s,t,l,o=(n[1]||"none")+"",i,r,a,f,d=Object.keys(n[4]).length>0,v,_=n[1]==="text"&&pe(n),c=n[1]==="color"&&_e(n),u=d&&he();return{c(){e=E("section"),s=E("p"),t=M("Current Tool: "),l=E("span"),i=M(o),r=S(),_&&_.c(),a=S(),c&&c.c(),f=S(),u&&u.c(),this.h()},l(p){e=y(p,"SECTION",{class:!0});var m=k(e);s=y(m,"P",{class:!0});var O=k(s);t=w(O,"Current Tool: "),l=y(O,"SPAN",{class:!0});var I=k(l);i=w(I,o),I.forEach(h),O.forEach(h),r=V(m),_&&_.l(m),a=V(m),c&&c.l(m),f=V(m),u&&u.l(m),m.forEach(h),this.h()},h(){T(l,"class","h-[40px] rounded-md bg-gray-900 p-2 font-medium capitalize text-gray-50 sm:rounded-none"),T(s,"class","flex h-[40px] items-center gap-2 text-gray-300"),T(e,"class","flex min-h-[40px] w-full flex-wrap items-center gap-2 bg-gray-800 p-1 px-2 text-gray-50 sm:px-2 sm:py-0")},m(p,m){g(p,e,m),b(e,s),b(s,t),b(s,l),b(l,i),b(e,r),_&&_.m(e,null),b(e,a),c&&c.m(e,null),b(e,f),u&&u.m(e,null),v=!0},p(p,m){(!v||m&2)&&o!==(o=(p[1]||"none")+"")&&Z(i,o),p[1]==="text"?_?_.p(p,m):(_=pe(p),_.c(),_.m(e,a)):_&&(_.d(1),_=null),p[1]==="color"?c?(c.p(p,m),m&2&&C(c,1)):(c=_e(p),c.c(),C(c,1),c.m(e,f)):c&&(F(),P(c,1,1,()=>{c=null}),K()),m&16&&(d=Object.keys(p[4]).length>0),d?u?u.p(p,m):(u=he(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){v||(C(c),v=!0)},o(p){P(c),v=!1},d(p){p&&h(e),_&&_.d(),c&&c.d(),u&&u.d()}}}function pe(n){let e,s,t,l,o,i,r,a,f,d,v,_,c;return{c(){e=E("p"),s=M("Mode:"),t=S(),l=E("select"),o=E("option"),i=M("Display"),r=E("option"),a=M("Speak"),f=S(),d=E("p"),v=M("Tip: Click or tap on a tile to edit its text."),this.h()},l(u){e=y(u,"P",{});var p=k(e);s=w(p,"Mode:"),p.forEach(h),t=V(u),l=y(u,"SELECT",{class:!0});var m=k(l);o=y(m,"OPTION",{});var O=k(o);i=w(O,"Display"),O.forEach(h),r=y(m,"OPTION",{});var I=k(r);a=w(I,"Speak"),I.forEach(h),m.forEach(h),f=V(u),d=y(u,"P",{});var R=k(d);v=w(R,"Tip: Click or tap on a tile to edit its text."),R.forEach(h),this.h()},h(){o.__value="display",o.value=o.__value,r.__value="speak",r.value=r.__value,T(l,"class","h-[40px] rounded-md bg-gray-900 p-2 font-medium capitalize text-gray-50 sm:rounded-none")},m(u,p){g(u,e,p),b(e,s),g(u,t,p),g(u,l,p),b(l,o),b(o,i),b(l,r),b(r,a),g(u,f,p),g(u,d,p),b(d,v),_||(c=N(l,"input",n[5]),_=!0)},p:A,d(u){u&&h(e),u&&h(t),u&&h(l),u&&h(f),u&&h(d),_=!1,c()}}}function _e(n){let e,s,t,l,o,i,r;return l=new ge({props:{defaultValue:"border",values:["border","background","text"],submitValue:n[6]}}),i=new Ce({}),{c(){e=E("p"),s=M("Mode:"),t=S(),B(l.$$.fragment),o=S(),B(i.$$.fragment)},l(a){e=y(a,"P",{});var f=k(e);s=w(f,"Mode:"),f.forEach(h),t=V(a),Q(l.$$.fragment,a),o=V(a),Q(i.$$.fragment,a)},m(a,f){g(a,e,f),b(e,s),g(a,t,f),q(l,a,f),g(a,o,f),q(i,a,f),r=!0},p(a,f){const d={};f&8&&(d.submitValue=a[6]),l.$set(d)},i(a){r||(C(l.$$.fragment,a),C(i.$$.fragment,a),r=!0)},o(a){P(l.$$.fragment,a),P(i.$$.fragment,a),r=!1},d(a){a&&h(e),a&&h(t),H(l,a),a&&h(o),H(i,a)}}}function he(n){let e,s,t,l;return{c(){e=E("button"),s=M("Save Changes"),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var i=k(e);s=w(i,"Save Changes"),i.forEach(h),this.h()},h(){T(e,"class","rounded-md border border-green-500 bg-green-600 p-1")},m(o,i){g(o,e,i),b(e,s),t||(l=N(e,"click",Me),t=!0)},p:A,d(o){o&&h(e),t=!1,l()}}}function we(n){let e,s,t=n[0]==="edit"&&de(n);return{c(){t&&t.c(),e=L()},l(l){t&&t.l(l),e=L()},m(l,o){t&&t.m(l,o),g(l,e,o),s=!0},p(l,[o]){l[0]==="edit"?t?(t.p(l,o),o&1&&C(t,1)):(t=de(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(F(),P(t,1,1,()=>{t=null}),K())},i(l){s||(C(t),s=!0)},o(l){P(t),s=!1},d(l){t&&t.d(l),l&&h(e)}}}function Oe(n,e,s){let t,l,o,i,r;return j(n,ke,d=>s(0,t=d)),j(n,be,d=>s(1,l=d)),j(n,le,d=>s(2,o=d)),j(n,se,d=>s(3,i=d)),j(n,U,d=>s(4,r=d)),[t,l,o,i,r,d=>{D(le,o=d.target.value==="speak",o)},d=>D(se,i=d,i)]}class Le extends G{constructor(e){super(),J(this,e,Oe,we,Y,{})}}export{Le as default};
